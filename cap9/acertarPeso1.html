<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>Qual Ã© o peso da Melancia?</h1>

    <p>Nome Apostador</p>
    <input type="text" id="nome">

    <p>Peso em gramas: </p>
    <input type="text" id="palpite">
    <br><br>
    <input type="button" value="Apostar" id="apostar">
    <input type="button" value="Vencedor" id="vencedor">
    <input type="button" value="Limpar Listar" id="limpar">
</body>

</html>

<script>
  const inputs = document.querySelectorAll("input");
let span = document.getElementById("span");

let nomeAtual;
let pesoAtual;
let apostas = [];
let pesoMelancia = 7200;

inputs[2].addEventListener("click", e => {

  if (inputs[0].value !== String || inputs[0].value !== String) {
    nomeAtual = inputs[0].value;
    pesoAtual = inputs[1].value;
    if (nomeAtual == "" || pesoAtual == "") {
      alert("Algum campo vazio");
      return;
    }
    apostas.push({ nome: nomeAtual, peso: pesoAtual });

  }
  alert("Aposta Feita");
  inputs[0].value = "";
  inputs[1].value = "";

  span.innerHTML = span.innerHTML + "<br>" + nomeAtual + " - " + pesoAtual;
 console.log(apostas);
 
  
})

inputs[3].addEventListener("click", e => {
  let valor = 50000;
  let indiceSalvo;
  for(i = 0 ; i < apostas.length; i++){
    let diferenca = Number(pesoMelancia - apostas[i].peso);
    console.log(diferenca);
    if (diferenca < valor) {
      console.log('Mais Perto do valor!')
      valor = diferenca;
      console.log(valor);
    }
  } 
 
});

inputs[4].addEventListener("click", e => {
  span.innerHTML = " ";
  alert("Lista esvaziada");
  apostas = [];
  console.log(apostas);
});
</script>